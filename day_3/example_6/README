Example restructure of the code
nice main script interface
be careful with circular imports
